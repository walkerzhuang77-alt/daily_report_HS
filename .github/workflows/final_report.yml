name: 2.0 æ¯æ—¥Aè‚¡å¤ç›˜ (æœ€ç»ˆç‰ˆ+ä¸‹è½½)

# è§¦å‘æ¡ä»¶ï¼šæ¯å¤©åŒ—äº¬æ—¶é—´ 17:00 (UTC 09:00) æˆ– æ‰‹åŠ¨
on:
  schedule:
    - cron: '0 9 * * *'
  workflow_dispatch:

jobs:
  run-report:
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ“¥ ä¸‹è½½ä»£ç 
        uses: actions/checkout@v3
      
      - name: ğŸ è®¾ç½® Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'
          
      - name: ğŸ“¦ å®‰è£…ä¾èµ–
        run: pip install akshare pandas google-generativeai python-dotenv
        
      - name: ğŸš€ è¿è¡Œå¤ç›˜
        env:
          GOOGLE_API_KEY: ${{ secrets.GOOGLE_API_KEY }}
          GITHUB_ACTIONS: "true"
        run: python daily_report.py
        
      # ğŸ‘‡ğŸ‘‡ğŸ‘‡ æ–°å¢äº†è¿™ä¸€æ­¥ ğŸ‘‡ğŸ‘‡ğŸ‘‡
      - name: ğŸ“¤ æ‰“åŒ…å¹¶ä¸Šä¼ æŠ¥å‘Š
        uses: actions/upload-artifact@v4
        with:
          name: æ¯æ—¥ç­–ç•¥æŠ¥å‘Š
          path: Strategy_*.md
          # retention-days: 5  # (å¯é€‰) æ–‡ä»¶ä¿ç•™5å¤©
